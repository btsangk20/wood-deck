(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9449:function(e,t,o){Promise.resolve().then(o.bind(o,7361))},7361:function(e,t,o){"use strict";o.d(t,{default:function(){return K}});var i=o(7437),n=o(4157),r=o(4322),s=e=>{let{children:t}=e;return(0,i.jsx)(r.W,{backend:n.PD,children:t})},l=o(2515),a=o(7825);let d=a.ZP.div.withConfig({componentId:"sc-3caff5c-0"})(["height:fit-content;"]);var c=e=>{let{object3D:t,children:o}=e,{objectTypeId:n}=t,[{isDragging:r},s]=(0,l.c)({type:n,item:t,collect:e=>({isDragging:e.isDragging()})});return(0,i.jsx)(d,{ref:s,style:{opacity:r?.5:1},children:o})},h=o(2265);a.ZP.div.withConfig({componentId:"sc-d6292f58-0"})(["width:100%;height:100%;"]);var p=o(7818);let u=e=>(0,i.jsx)(i.Fragment,{children:e.children});(0,p.default)(()=>Promise.resolve(u),{ssr:!1});var m=o(7776),g=e=>{let{floorData:t}=e,{frameLength:o,frameWidth:n,adjustedThicknessOfWooden:r,frameThickness:s,endHeightOfWooden:l,startX:a,color:d="black",positionZ:c}=t,h=new m.Shape;h.moveTo(0,0),h.lineTo(o,0),h.lineTo(o,n),h.lineTo(0,n),h.lineTo(0,0);let p=new m.ExtrudeGeometry(h,{depth:r,bevelEnabled:!1});return(0,i.jsx)("mesh",{geometry:p,position:[a-s,l,c],rotation:[Math.PI/2,0,0],children:(0,i.jsx)("meshBasicMaterial",{attach:"material",color:d})})},x=e=>{let{woodenPoints:t,colorWooden:o}=e;return(0,i.jsx)(i.Fragment,{children:t.map((e,t)=>(0,i.jsx)("mesh",{geometry:b(e),children:(0,i.jsx)("lineBasicMaterial",{attach:"material",color:o})},t))})},f=e=>{let{columnsData:t}=e,{startX:o=0,startY:n=0,columnCount:r=2,frameLength:s=0,frameWidth:l=0,adjustedThicknessOfColumn:a=0,adjustedThicknessOfWooden:d=0,adjustedHeightOfColumn:c=0,color:h="black"}=t,p=[],u=new m.BoxGeometry(a,c,a);for(let e=0;e<r;e++){let t=e/(r-1)*(s-2*d);p.push({posX:t,posY:0}),p.push({posX:t,posY:l-2*d})}return(0,i.jsx)(i.Fragment,{children:p.map((e,t)=>(0,i.jsx)("mesh",{geometry:u,position:[e.posX,c/2+n,e.posY],children:(0,i.jsx)("meshBasicMaterial",{attach:"material",color:h})},t))})},j=e=>{let{columnsData:t}=e,{startX:o=0,startY:n=0,columnCount:r=2,frameLength:s=0,frameWidth:l=0,adjustedThicknessOfColumn:a=0,adjustedThicknessOfWooden:d=0,adjustedHeightOfColumn:c=0,color:h="black"}=t,p=[],u=new m.BoxGeometry(a,c,a);for(let e=0;e<r;e++){let t=n+e/(r-1)*l;p.push({posX:o,posY:t}),p.push({posX:o+s-2*d,posY:t})}return(0,i.jsx)(i.Fragment,{children:p.map((e,t)=>(0,i.jsx)("mesh",{geometry:u,position:[e.posX,c/2,e.posY],children:(0,i.jsx)("meshBasicMaterial",{attach:"material",color:h})},t))})},v=e=>{var t,o,n,r,s,l,a,d;let{woodDeckData:c}=e,{lengthOfWooden:h,thicknessOfWooden:p,widthOfWooden:u,colorWooden:m,countWooden:v,gapSpacingWooden:b,heightOfColumn:y,columnCount:D=2,thicknessOfColumn:k,startX:P,startY:W,startZ:O,startPointOfLShape:L=0,lengthOfLWooden:S,isLShape:_=!1,countLColumn:E=2}=c,I=h*C,Z=p*C,M=u*C,T=b*C,X=y*C,z=k*C,B=S?S*C:0,Y=[],F=X+W,H=F+Z;for(let e=0;e<v;e++){let t=P+e*(M+T),o=t+M,i=w(t,F,o,H);_&&e>=L?Y.push({points:i,depth:B}):Y.push({points:i,depth:I})}let K=null==Y?void 0:Y[Y.length-1],G=(null!==(a=null==K?void 0:null===(n=K.points)||void 0===n?void 0:null===(t=n[(null==K?void 0:null===(o=K.points)||void 0===o?void 0:o.length)-1])||void 0===t?void 0:t.x)&&void 0!==a?a:0)-P+2*Z,V=I+2*Z,N=null==Y?void 0:Y[L-1],R=null!==(d=null==N?void 0:null===(l=N.points)||void 0===l?void 0:null===(r=l[(null==K?void 0:null===(s=K.points)||void 0===s?void 0:s.length)-1])||void 0===r?void 0:r.x)&&void 0!==d?d:0,A=G-R+P-T,q=B-I;return(0,i.jsxs)("group",{position:[0,0,O],children:[(0,i.jsx)(x,{woodenPoints:Y,colorWooden:m}),(0,i.jsx)(g,{floorData:{frameLength:G,frameWidth:V,adjustedThicknessOfWooden:Z,frameThickness:Z,endHeightOfWooden:H,startX:P,positionZ:-Z}}),_&&(0,i.jsx)(g,{floorData:{frameLength:A,frameWidth:q,adjustedThicknessOfWooden:Z,frameThickness:Z,endHeightOfWooden:H,startX:R+T,positionZ:I+Z}}),(0,i.jsx)(f,{columnsData:{startX:P,startY:W,adjustedThicknessOfColumn:z,columnCount:D,adjustedThicknessOfWooden:Z,frameLength:G,frameWidth:V,adjustedHeightOfColumn:X}}),_&&(0,i.jsx)(j,{columnsData:{startX:R+T,startY:I,adjustedThicknessOfColumn:z,columnCount:E,adjustedThicknessOfWooden:Z,frameLength:A,frameWidth:q,adjustedHeightOfColumn:X}})]})};let w=(e,t,o,i)=>[new m.Vector2(e,t),new m.Vector2(e,i),new m.Vector2(o,i),new m.Vector2(o,t)],b=e=>{let{points:t,depth:o}=e,i=new m.Shape(t);return new m.ExtrudeGeometry(i,{depth:o,bevelEnabled:!0})},C=.1;var y=e=>{let t={lengthOfWooden:1e3,widthOfWooden:200,thicknessOfWooden:50,colorWooden:"#694C3F",countWooden:15,gapSpacingWooden:30,heightOfColumn:400,columnCount:4,thicknessOfColumn:100,isLShape:e.isLShape||!1,startPointOfLShape:10,countLColumn:4,lengthOfLWooden:4e3,startX:0,startY:0,startZ:0};return(0,i.jsx)("group",{scale:.01,position:e.position||[0,0,0],children:(0,i.jsx)(v,{woodDeckData:t})})},D=o(920);let k=(0,D.Z)(),P=(0,D.Z)(),W={id:k,objectTypeId:"WOOD_DECK",title:"RectWoodDeck",objectImage:"/images/2d_deck.png",onParameterChanged:e=>e,dialogParameters:[]},O={id:P,objectTypeId:"L_WOOD_DECK",title:"LWoodDeck",objectImage:"/images/l_2d_deck.png",onParameterChanged:e=>e,dialogParameters:[]},L=()=>[W,O],S=e=>e.dialogParameters;var _=o(6547),E=o(2394),I=o(8842),Z=o(3149),M=o(4546);let T=e=>{let{arrayItems:t}=e,[o,n]=(0,h.useState)([0,0,0]),r=(0,h.useRef)(null),{raycaster:s}=(0,I.A)(),l=(0,h.useCallback)(e=>{if(r.current){let e=s.intersectObject(r.current);if(e.length>0){let{point:t}=e[0];n([Math.floor(t.x)+.5,0,Math.floor(t.z)+.5])}}},[s]);return(0,h.useCallback)(e=>{e.stopPropagation()},[o]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(_.z,{makeDefault:!0}),(0,i.jsx)("ambientLight",{intensity:.5}),(0,i.jsx)("directionalLight",{position:[1,.75,.5],intensity:1}),(0,i.jsx)("gridHelper",{args:[20,20]}),(0,i.jsxs)("mesh",{ref:r,rotation:[-Math.PI/2,0,0],position:[0,-.5,0],onPointerMove:l,children:[(0,i.jsx)("planeGeometry",{args:[100,100]}),(0,i.jsx)("meshBasicMaterial",{visible:!1})]}),null==t?void 0:t.map((e,t)=>(0,i.jsx)(E.S,{dragLimits:[[-10,7],[0,0],[-10,9]],children:(0,i.jsx)(y,{position:e.position,isLShape:e.isLShape})},t))]})};var X=()=>{let[e,t]=(0,h.useState)([]),[,o]=(0,M.L)({accept:["WOOD_DECK","L_WOOD_DECK"],drop:(e,o)=>{S(e),e.onParameterChanged({width:10,height:10});let{x:i,y:n}=o.getClientOffset(),r=new m.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.z=5;let s=new m.Vector3(i/window.innerWidth*2-1,-(n/window.innerHeight*2)+1,.5);s.unproject(r);let l=s.sub(r.position).normalize(),a=-r.position.z/l.z,d=r.position.clone().add(l.multiplyScalar(a));t(t=>[...t,{position:[d.x,d.y,d.z],isLShape:"L_WOOD_DECK"===e.objectTypeId}])}});return(0,i.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,i.jsx)(Z.Xz,{camera:{position:[5,5,5],fov:50},ref:o,children:(0,i.jsx)(T,{arrayItems:e})})})},z=o(1949);let B=a.ZP.div.withConfig({componentId:"sc-671cc4de-0"})(["display:flex;"]),Y=a.ZP.div.withConfig({componentId:"sc-671cc4de-1"})(["width:20%;padding:20px;display:flex;flex-direction:column;gap:1rem;background-color:rgb(242,239,234);"]),F=a.ZP.img.withConfig({componentId:"sc-671cc4de-2"})(["width:100%;cursor:pointer;object-fit:contain;border-radius:6px;border:1px solid;&:hover{box-shadow:",";}"],z.K.boxShadow),H=a.ZP.div.withConfig({componentId:"sc-671cc4de-3"})(["width:80%;"]);var K=()=>{let e=L();return(0,i.jsx)(s,{children:(0,i.jsxs)(B,{children:[(0,i.jsx)(Y,{children:null==e?void 0:e.map(e=>(0,i.jsx)(c,{object3D:e,children:(0,i.jsx)(F,{alt:"#",src:e.objectImage})},e.id))}),(0,i.jsx)("hr",{}),(0,i.jsx)(H,{children:(0,i.jsx)(X,{})})]})})}},1949:function(e,t,o){"use strict";o.d(t,{K:function(){return i}});let i={colors:{primary:"#561C24",selectedBackground:"#F5EEE6"},adminHeaderHeight:60,generalSpace:20,adminSidebarWidth:200,headerHeight:67,footerHeight:140,formWidth:325,boxShadow:"0px 4px 22px rgba(0, 0, 0, 0.2)"}}},function(e){e.O(0,[689,186,585,971,23,744],function(){return e(e.s=9449)}),_N_E=e.O()}]);